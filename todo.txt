todo



works only on the first page load

then, result is in cache, but is not loaded



node_modules/@tanstack/solid-query/build/solid/createBaseQuery.js

result.status is  always "loading"

result.data is not fetched
result.data is not loaded from cache

this does not update query.status
unsubscribe = observer.subscribe((result) => {



react version of createBaseQuery

node_modules/@tanstack/react-query/build/lib/useBaseQuery.esm.js



see also

node_modules/@tanstack/query-core/build/lib/queryObserver.esm.js

src/App.jsx



before/after restore

before/after restore
QueryObserver shouldFetchOnMount: shouldLoadOnMount true
QueryObserver shouldFetchOnMount: shouldLoadOnMount false

before/after restore
QueryObserver shouldLoadOnMount: query.state.dataUpdatedAt 0 fetch true
QueryObserver shouldLoadOnMount: query.state.dataUpdatedAt 1666643575777 fetch false

before/after restore
before: QueryObserver shouldFetchOnMount true
after : QueryObserver shouldFetchOnMount false

before/after restore
queryObserver.ts:755 QueryObserver shouldFetchOnMount: query.state.dataUpdatedAt' 0 fetch false
queryObserver.ts:755 QueryObserver shouldFetchOnMount: query.state.dataUpdatedAt' 1666643575777 fetch true

before/after restore
queryObserver.ts:760 QueryObserver shouldFetchOnMount: shouldFetchOn(query, options, options.refetchOnMount) true
queryObserver.ts:760 QueryObserver shouldFetchOnMount: shouldFetchOn(query, options, options.refetchOnMount) false

